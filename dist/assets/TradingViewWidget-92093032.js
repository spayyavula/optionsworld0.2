import{r as o,j as m}from"./index-b5290ce3.js";const v=({symbol:e,width:t="100%",height:r=500,interval:u="D",theme:s="light",style:p="candles",locale:f="en",toolbar_bg:A="#f1f3f6",enable_publishing:g=!1,allow_symbol_change:l=!0,container_id:Q,studies:w=[],autosize:a=!1})=>{const n=o.useRef(null),i=o.useRef(null);o.useEffect(()=>{const N=()=>{n.current&&(n.current.innerHTML=""),i.current&&i.current.parentNode&&(i.current.parentNode.removeChild(i.current),i.current=null)};if(N(),!!n.current){try{const c=document.createElement("div");c.className="tradingview-widget-container__widget",c.style.width="100%",c.style.height="100%",n.current.appendChild(c);const T=e.includes(":")?e:e==="SPY"?"AMEX:SPY":e==="QQQ"?"NASDAQ:QQQ":e==="AAPL"?"NASDAQ:AAPL":e==="MSFT"?"NASDAQ:MSFT":e==="GOOGL"?"NASDAQ:GOOGL":e==="AMZN"?"NASDAQ:AMZN":e==="TSLA"?"NASDAQ:TSLA":e==="NVDA"?"NASDAQ:NVDA":`NASDAQ:${e}`,d=document.createElement("script");d.src="https://s3.tradingview.com/tv.js",d.type="text/javascript",d.async=!0,d.onload=()=>{typeof window.TradingView<"u"&&new window.TradingView.widget({autosize:a,symbol:T,interval:u,timezone:"Etc/UTC",theme:s,style:p,locale:f,toolbar_bg:A,enable_publishing:g,allow_symbol_change:l,container_id:S,width:a?"100%":t,height:a?"100%":r,save_image:!0,studies:w,show_popup_button:!0,popup_width:"1000",popup_height:"650"})},document.head.appendChild(d),i.current=d}catch(c){console.error("Error initializing TradingView widget:",c),n.current&&(n.current.innerHTML='<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #888;">Failed to load TradingView widget</div>')}return N}},[e,t,r,u,s,p,f,A,g,l,w,a]);const S=Q||`tradingview_${Math.random().toString(36).substring(2,11)}`;return m.jsx("div",{ref:n,id:S,className:"tradingview-widget-container",style:{width:typeof t=="number"?`${t}px`:t,height:typeof r=="number"?`${r}px`:r,borderRadius:"0.5rem",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"}})},D=v;export{D as T};
