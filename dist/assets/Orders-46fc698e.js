import{u as w,r as x,j as e,i as n,d as m}from"./index-58155c0f.js";import{F as h}from"./filter-a5a8e25d.js";import{X as j}from"./x-circle-d2d02c70.js";import{A as o}from"./alert-circle-24628e5c.js";import{f as C}from"./index-f35a43c3.js";function P(){const{state:l,dispatch:u}=w(),[c,y]=x.useState("all"),[i,f]=x.useState("all"),r=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),N=s=>{window.confirm("Are you sure you want to cancel this order?")&&u({type:"CANCEL_ORDER",payload:s})},d=l.orders.filter(s=>c==="all"||s.status===c).filter(s=>i==="all"||s.type===i).sort((s,t)=>t.timestamp.getTime()-s.timestamp.getTime()),g=s=>{switch(s){case"filled":return e.jsx(m,{className:"h-5 w-5 text-green-500"});case"pending":return e.jsx(n,{className:"h-5 w-5 text-yellow-500"});case"cancelled":return e.jsx(j,{className:"h-5 w-5 text-gray-500"});case"rejected":return e.jsx(o,{className:"h-5 w-5 text-red-500"});default:return e.jsx(n,{className:"h-5 w-5 text-gray-500"})}},p=s=>{const t="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(s){case"filled":return`${t} bg-green-100 text-green-800`;case"pending":return`${t} bg-yellow-100 text-yellow-800`;case"cancelled":return`${t} bg-gray-100 text-gray-800`;case"rejected":return`${t} bg-red-100 text-red-800`;default:return`${t} bg-gray-100 text-gray-800`}},a={total:l.orders.length,pending:l.orders.filter(s=>s.status==="pending").length,filled:l.orders.filter(s=>s.status==="filled").length,cancelled:l.orders.filter(s=>s.status==="cancelled").length,rejected:l.orders.filter(s=>s.status==="rejected").length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-5",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(h,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(n,{className:"h-8 w-8 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.pending})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(m,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Filled"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filled})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(j,{className:"h-8 w-8 text-gray-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cancelled"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.cancelled})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(o,{className:"h-8 w-8 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.rejected})]})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Order History"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("select",{className:"form-select",value:c,onChange:s=>y(s.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"filled",children:"Filled"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("select",{className:"form-select",value:i,onChange:s=>f(s.target.value),children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"buy",children:"Buy Orders"}),e.jsx("option",{value:"sell",children:"Sell Orders"})]})]})]})}),e.jsx("div",{className:"card-body",children:d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(h,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No orders found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l.orders.length===0?"You haven't placed any orders yet.":"No orders match your current filters."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Symbol"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Order Type"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Filled Price"}),e.jsx("th",{children:"Total Value"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d.map(s=>{const t=l.stocks.find(b=>b.symbol===s.symbol),v=s.filledPrice?(s.filledQuantity||s.quantity)*s.filledPrice:s.price?s.quantity*s.price:s.quantity*((t==null?void 0:t.price)||0);return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"flex items-center",children:[g(s.status),e.jsx("span",{className:`ml-2 ${p(s.status)}`,children:s.status})]})}),e.jsxs("td",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.symbol}),e.jsx("div",{className:"text-sm text-gray-500",children:t==null?void 0:t.name})]}),e.jsx("td",{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.type==="buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.type.toUpperCase()})}),e.jsx("td",{className:"capitalize",children:s.orderType}),e.jsxs("td",{className:"font-medium",children:[s.filledQuantity||s.quantity,s.filledQuantity&&s.filledQuantity<s.quantity&&e.jsxs("span",{className:"text-sm text-gray-500",children:["/",s.quantity]})]}),e.jsx("td",{children:s.orderType==="market"?"Market":s.price?r(s.price):"-"}),e.jsx("td",{children:s.filledPrice?r(s.filledPrice):"-"}),e.jsx("td",{className:"font-medium",children:r(v)}),e.jsx("td",{className:"text-sm text-gray-500",children:C(s.timestamp,"MMM dd, yyyy HH:mm")}),e.jsx("td",{children:s.status==="pending"&&e.jsx("button",{onClick:()=>N(s.id),className:"btn btn-secondary text-sm",children:"Cancel"})})]},s.id)})})]})})})]})]})}export{P as default};
