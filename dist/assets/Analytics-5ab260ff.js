import{u as $,j as e}from"./index-7228f007.js";import{r as D}from"./react-vendor-1447f830.js";import{D as k,B as A,T as L,P as z}from"./ui-vendor-6492ecb9.js";import{R as h,A as S,b,X as P,Y as C,T as j,d as B,B as K,c as O,P as U,a as E,C as q}from"./chart-vendor-7391e3e2.js";import{f as m,s as G}from"./date-utils-41d277e6.js";const n=["#2563eb","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],H=l=>{const c=[];let i=1e5;for(let r=l;r>=0;r--){const x=G(new Date,r),d=(Math.random()-.5)*2e3;i+=d,c.push({date:m(x,"yyyy-MM-dd"),value:Math.round(i),change:Math.round(d),changePercent:d/(i-d)*100})}return c};function Z(){var p;const{state:l}=$(),[c,i]=D.useState("30d"),r=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),x=s=>`${s>=0?"+":""}${s.toFixed(2)}%`,y=H((s=>{switch(s){case"7d":return 7;case"30d":return 30;case"90d":return 90;case"1y":return 365;default:return 30}})(c)),g=((p=y[0])==null?void 0:p.value)||1e5,o=l.totalValue-g,M=o/g*100,N=[{name:"Technology",value:45,color:n[0]},{name:"Healthcare",value:20,color:n[1]},{name:"Finance",value:15,color:n[2]},{name:"Consumer",value:12,color:n[3]},{name:"Energy",value:8,color:n[4]}],T=[{month:"Jan",profit:2500,trades:15},{month:"Feb",profit:-800,trades:12},{month:"Mar",profit:3200,trades:18},{month:"Apr",profit:1800,trades:14},{month:"May",profit:-1200,trades:10},{month:"Jun",profit:4500,trades:22}],a=l.positions,u=a.reduce((s,t)=>s+t.totalValue,0),f=a.reduce((s,t)=>t.totalValue>s.totalValue?t:s,{totalValue:0,symbol:""}),v=u>0?f.totalValue/u*100:0,w=l.orders.filter(s=>s.status==="filled").length,F=l.orders.filter(s=>s.status==="filled"&&s.type==="buy").length,R=l.orders.filter(s=>s.status==="filled"&&s.type==="sell").length,V=a.length>0?a.filter(s=>s.unrealizedPnL>0).length/a.length*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(k,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Return"}),e.jsx("p",{className:`text-2xl font-bold ${o>=0?"text-green-600":"text-red-600"}`,children:r(o)}),e.jsx("p",{className:`text-sm ${o>=0?"text-green-600":"text-red-600"}`,children:x(M)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(A,{className:"h-8 w-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Win Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[V.toFixed(1),"%"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.filter(s=>s.unrealizedPnL>0).length," winners"]})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(L,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trades"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w}),e.jsxs("p",{className:"text-sm text-gray-500",children:[F," buys, ",R," sells"]})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(z,{className:"h-8 w-8 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Concentration"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[v.toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-gray-500",children:f.symbol||"N/A"})]})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Portfolio Performance"}),e.jsx("div",{className:"flex space-x-2",children:["7d","30d","90d","1y"].map(s=>e.jsx("button",{onClick:()=>i(s),className:`px-3 py-1 text-sm rounded-md ${c===s?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:s},s))})]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-80",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(S,{data:y,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"date",tickFormatter:s=>m(new Date(s),"MMM dd")}),e.jsx(C,{tickFormatter:s=>`$${(s/1e3).toFixed(0)}k`}),e.jsx(j,{formatter:s=>[r(s),"Portfolio Value"],labelFormatter:s=>m(new Date(s),"MMM dd, yyyy")}),e.jsx(B,{type:"monotone",dataKey:"value",stroke:"#2563eb",fillOpacity:1,fill:"url(#colorValue)"})]})})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Monthly Performance"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-80",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(K,{data:T,children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"month"}),e.jsx(C,{tickFormatter:s=>`$${(s/1e3).toFixed(0)}k`}),e.jsx(j,{formatter:(s,t)=>[t==="profit"?r(s):s,t==="profit"?"Profit/Loss":"Trades"]}),e.jsx(O,{dataKey:"profit",fill:"#2563eb"})]})})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sector Allocation"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-80",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(U,{children:[e.jsx(E,{data:N,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,value:t})=>`${s} ${t}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:N.map((s,t)=>e.jsx(q,{fill:s.color},`cell-${t}`))}),e.jsx(j,{formatter:s=>[`${s}%`,"Allocation"]})]})})})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Risk Analysis"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Positions"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[v.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Largest Position"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[(l.balance/l.totalValue*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Cash Allocation"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[a.length>0?(a.reduce((s,t)=>s+Math.abs(t.unrealizedPnLPercent),0)/a.length).toFixed(1):"0.0","%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Avg Volatility"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top Performers"})}),e.jsx("div",{className:"card-body",children:a.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No positions to analyze"}):e.jsx("div",{className:"space-y-3",children:a.sort((s,t)=>t.unrealizedPnLPercent-s.unrealizedPnLPercent).slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.symbol}),e.jsx("div",{className:"text-sm text-gray-500",children:r(s.totalValue)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-medium ${s.unrealizedPnL>=0?"text-green-600":"text-red-600"}`,children:x(s.unrealizedPnLPercent)}),e.jsx("div",{className:`text-sm ${s.unrealizedPnL>=0?"text-green-600":"text-red-600"}`,children:r(s.unrealizedPnL)})]})]},s.id))})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),e.jsx("div",{className:"card-body",children:l.orders.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent activity"}):e.jsx("div",{className:"space-y-3",children:l.orders.filter(s=>s.status==="filled").sort((s,t)=>t.timestamp.getTime()-s.timestamp.getTime()).slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[s.type.toUpperCase()," ",s.symbol]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.quantity," shares â€¢ ",m(s.timestamp,"MMM dd")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-gray-900",children:r(s.filledPrice||0)}),e.jsx("div",{className:"text-sm text-gray-500",children:r((s.filledPrice||0)*s.quantity)})]})]},s.id))})})]})]})]})}export{Z as default};
