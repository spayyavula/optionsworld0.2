import{a as v,j as e}from"./index-7228f007.js";import{D as n,T as x,C as m,O as f}from"./ui-vendor-6492ecb9.js";import{R as h,P as g,a as y,C as P,T as o,B as p,b,X as L,Y as z,c as C}from"./chart-vendor-7391e3e2.js";import{f as k}from"./date-utils-41d277e6.js";import"./react-vendor-1447f830.js";const j=["#2563eb","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"];function O(){const{state:t}=v(),r=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),i=s=>`${s>=0?"+":""}${s.toFixed(2)}%`,d=t.positions.map((s,a)=>({name:s.contractTicker,value:s.totalValue,color:j[a%j.length]}));t.balance>0&&d.push({name:"Cash",value:t.balance,color:"#6b7280"});const N=t.positions.map(s=>({contract:s.contractTicker.split("240315")[0],unrealizedPnL:s.unrealizedPnL,unrealizedPnLPercent:s.unrealizedPnLPercent})),l=t.positions.reduce((s,a)=>s+a.unrealizedPnL,0),c=t.positions.reduce((s,a)=>s+a.quantity*a.avgPrice*100,0),u=c>0?l/c*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(n,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(t.totalValue)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(x,{className:`h-8 w-8 ${l>=0?"text-green-600":"text-red-600"}`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Unrealized P&L"}),e.jsx("p",{className:`text-2xl font-bold ${l>=0?"text-green-600":"text-red-600"}`,children:r(l)}),e.jsx("p",{className:`text-sm ${l>=0?"text-green-600":"text-red-600"}`,children:i(u)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(n,{className:"h-8 w-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cash Balance"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(t.balance)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(m,{className:"h-8 w-8 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Options Invested"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(c/t.totalValue*100).toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-gray-500",children:r(c)})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Options Portfolio Allocation"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-80",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(g,{children:[e.jsx(y,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percent:a})=>`${s} ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((s,a)=>e.jsx(P,{fill:s.color},`cell-${a}`))}),e.jsx(o,{formatter:s=>r(s)})]})})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Options Performance"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-80",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(p,{data:N,children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(L,{dataKey:"contract"}),e.jsx(z,{tickFormatter:s=>`${s.toFixed(0)}%`}),e.jsx(o,{formatter:(s,a)=>[a==="unrealizedPnL"?r(s):`${s.toFixed(2)}%`,a==="unrealizedPnL"?"P&L":"P&L %"]}),e.jsx(C,{dataKey:"unrealizedPnLPercent",fill:"#2563eb"})]})})})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Current Options Positions"})}),e.jsx("div",{className:"card-body",children:t.positions.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(m,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No options positions"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start trading options to build your portfolio."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Contract"}),e.jsx("th",{children:"Underlying"}),e.jsx("th",{children:"Strike/Expiry"}),e.jsx("th",{children:"Contracts"}),e.jsx("th",{children:"Avg Price"}),e.jsx("th",{children:"Current Price"}),e.jsx("th",{children:"Market Value"}),e.jsx("th",{children:"Unrealized P&L"}),e.jsx("th",{children:"Greeks"}),e.jsx("th",{children:"Purchase Date"})]})}),e.jsx("tbody",{children:t.positions.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.contractTicker}),e.jsx("div",{className:"text-sm text-gray-500 capitalize",children:s.contractType})]})}),e.jsx("td",{className:"font-medium",children:s.underlyingTicker}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r(s.strikePrice)}),e.jsx("div",{className:"text-sm text-gray-500",children:s.expirationDate})]})}),e.jsx("td",{className:"font-medium",children:s.quantity}),e.jsx("td",{children:r(s.avgPrice)}),e.jsx("td",{children:r(s.currentPrice)}),e.jsx("td",{className:"font-medium",children:r(s.totalValue)}),e.jsxs("td",{className:s.unrealizedPnL>=0?"text-green-600":"text-red-600",children:[e.jsx("div",{className:"font-medium",children:r(s.unrealizedPnL)}),e.jsxs("div",{className:"text-sm",children:[s.unrealizedPnLPercent>=0?e.jsx(x,{className:"h-3 w-3 inline mr-1"}):e.jsx(f,{className:"h-3 w-3 inline mr-1"}),i(s.unrealizedPnLPercent)]})]}),e.jsxs("td",{className:"text-sm",children:[e.jsxs("div",{children:["Δ: ",s.delta.toFixed(3)]}),e.jsxs("div",{children:["Γ: ",s.gamma.toFixed(3)]}),e.jsxs("div",{children:["Θ: ",s.theta.toFixed(3)]}),e.jsxs("div",{children:["ν: ",s.vega.toFixed(3)]})]}),e.jsx("td",{className:"text-sm text-gray-500",children:k(s.purchaseDate,"MMM dd, yyyy")})]},s.id))})]})})})]})]})}export{O as default};
