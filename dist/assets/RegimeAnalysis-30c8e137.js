var S=Object.defineProperty;var R=(a,r,i)=>r in a?S(a,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[r]=i;var b=(a,r,i)=>(R(a,typeof r!="symbol"?r+"":r,i),i);import{r as h,j as e,B as v,T as w,k as P,A,b as M,S as I,Z as C}from"./index-b5290ce3.js";import{T as $}from"./TradingViewWidget-92093032.js";import{T as L}from"./trending-down-bccff4e4.js";import{A as T}from"./activity-c9e0d1f9.js";import{E as D}from"./external-link-2c3b9aea.js";class p{static analyzeRegime(r){const i=this.calculateRegimeProbabilities(r),l=i.reduce((n,m)=>m.probability>n.probability?m:n),c=l.probability,g=this.estimateTimeInRegime(l,r),x=i.filter(n=>n.id!==l.id).sort((n,m)=>m.probability-n.probability).slice(0,2).map(n=>({regime:n,probability:n.probability})),o=this.getRecommendedStrategies(l.id),s=this.generateWarnings(l,r);return{currentRegime:l,confidence:c,timeInRegime:g,nextRegimeProb:x,recommendedStrategies:o,warnings:s}}static calculateRegimeProbabilities(r){return this.REGIMES.map(i=>{let l=0,c=0;const g=i.indicators.map(o=>{let s=0,n="neutral";switch(o.name){case"Price vs SMA200":s=r.price/r.movingAverages.sma200,n=s>o.threshold?"bullish":"bearish";break;case"RSI":s=r.rsi,i.id==="bull_trending"?n=s>o.threshold?"bullish":"bearish":i.id==="bear_trending"?n=s<o.threshold?"bearish":"bullish":n=s>30&&s<70?"neutral":"bearish";break;case"MACD":s=r.macd,n=s>o.threshold?"bullish":"bearish";break;case"VIX":s=r.vix,i.id==="bull_trending"||i.id==="low_volatility"?n=s<o.threshold?"bullish":"bearish":i.id==="bear_trending"||i.id==="high_volatility"?n=s>o.threshold?"bearish":"bullish":n="neutral";break;case"Daily Range":s=Math.abs(r.price*.02)/r.price,n=(s>o.threshold,"neutral");break;case"Volume":s=r.volume/1e6,n="neutral";break}return(i.trend==="bullish"&&n==="bullish"||i.trend==="bearish"&&n==="bearish"||i.trend==="sideways"&&n==="neutral")&&(l+=o.weight),c+=o.weight,{...o,value:s,signal:n}}),x=Math.max(0,Math.min(1,l/c));return{...i,indicators:g,probability:x}})}static estimateTimeInRegime(r,i){const l=Math.random()*30+10,c=r.volatility==="high"?.5:r.volatility==="low"?1.5:1;return Math.round(l*c)}static getRecommendedStrategies(r){return this.STRATEGIES.filter(i=>i.regimeId===r)}static generateWarnings(r,i){const l=[];return r.volatility==="high"&&l.push("High volatility detected - use smaller position sizes"),i.vix>30&&l.push("Extreme fear in market - consider protective strategies"),i.rsi>80?l.push("Market may be overbought - watch for reversal signals"):i.rsi<20&&l.push("Market may be oversold - potential bounce opportunity"),r.id==="bear_trending"&&i.volume>1.5&&l.push("High volume selling - trend may accelerate"),l}static getAllRegimes(){return[...this.REGIMES]}static getAllStrategies(){return[...this.STRATEGIES]}static getStrategy(r){return this.STRATEGIES.find(i=>i.id===r)}static getStrategiesForRegime(r){return this.STRATEGIES.filter(i=>i.regimeId===r)}static generateMockMarketData(){const l=580+(Math.random()-.5)*20;return{price:l,volume:Math.random()*2e6+5e5,volatility:Math.random()*.3+.1,rsi:Math.random()*100,macd:(Math.random()-.5)*10,bollingerBands:{upper:l*1.02,middle:l,lower:l*.98},movingAverages:{sma20:l*(.98+Math.random()*.04),sma50:l*(.96+Math.random()*.08),sma200:l*(.92+Math.random()*.16)},vix:Math.random()*40+10,timestamp:new Date}}}b(p,"REGIMES",[{id:"bull_trending",name:"Bull Trending",description:"Strong upward price movement with high momentum and increasing volume",characteristics:["Price above all major moving averages","RSI between 50-80","MACD positive and rising","Volume increasing on up days","VIX below 20"],indicators:[{name:"Price vs SMA200",value:0,threshold:1.05,signal:"bullish",weight:.3},{name:"RSI",value:0,threshold:50,signal:"bullish",weight:.2},{name:"MACD",value:0,threshold:0,signal:"bullish",weight:.2},{name:"VIX",value:0,threshold:20,signal:"bullish",weight:.3}],volatility:"medium",trend:"bullish",duration:"2-6 months",probability:0},{id:"bear_trending",name:"Bear Trending",description:"Strong downward price movement with high momentum and panic selling",characteristics:["Price below all major moving averages","RSI below 30","MACD negative and falling","Volume increasing on down days","VIX above 30"],indicators:[{name:"Price vs SMA200",value:0,threshold:.95,signal:"bearish",weight:.3},{name:"RSI",value:0,threshold:30,signal:"bearish",weight:.2},{name:"MACD",value:0,threshold:0,signal:"bearish",weight:.2},{name:"VIX",value:0,threshold:30,signal:"bearish",weight:.3}],volatility:"high",trend:"bearish",duration:"1-4 months",probability:0},{id:"sideways_range",name:"Sideways Range",description:"Price moving within a defined range with no clear directional bias",characteristics:["Price oscillating between support and resistance","RSI between 30-70","MACD oscillating around zero","Low volume","VIX between 15-25"],indicators:[{name:"Price Range",value:0,threshold:.05,signal:"neutral",weight:.4},{name:"RSI Range",value:0,threshold:40,signal:"neutral",weight:.2},{name:"Volume",value:0,threshold:.8,signal:"neutral",weight:.2},{name:"VIX",value:0,threshold:20,signal:"neutral",weight:.2}],volatility:"low",trend:"sideways",duration:"1-3 months",probability:0},{id:"high_volatility",name:"High Volatility",description:"Extreme price swings with uncertainty and emotional trading",characteristics:["Large daily price movements (>2%)","VIX above 25","Whipsaw price action","High volume spikes","News-driven moves"],indicators:[{name:"Daily Range",value:0,threshold:.02,signal:"neutral",weight:.3},{name:"VIX",value:0,threshold:25,signal:"neutral",weight:.4},{name:"Volume Spike",value:0,threshold:1.5,signal:"neutral",weight:.3}],volatility:"high",trend:"sideways",duration:"2-8 weeks",probability:0},{id:"low_volatility",name:"Low Volatility",description:"Calm market conditions with minimal price movement and low volume",characteristics:["Small daily price movements (<1%)","VIX below 15","Low volume","Tight trading ranges","Complacent sentiment"],indicators:[{name:"Daily Range",value:0,threshold:.01,signal:"neutral",weight:.3},{name:"VIX",value:0,threshold:15,signal:"neutral",weight:.4},{name:"Volume",value:0,threshold:.7,signal:"neutral",weight:.3}],volatility:"low",trend:"sideways",duration:"1-6 months",probability:0}]),b(p,"STRATEGIES",[{id:"bull_call_spread",name:"Bull Call Spread",description:"Buy lower strike call, sell higher strike call to profit from moderate upward movement",regimeId:"bull_trending",type:"bullish",timeframe:"short",riskLevel:"medium",expectedReturn:15,maxDrawdown:8,winRate:65,instructions:[{step:1,action:"Buy Call Option",description:"Purchase a call option at or slightly out-of-the-money",timing:"When regime is confirmed",conditions:["RSI > 50","Price above SMA20","MACD positive"]},{step:2,action:"Sell Call Option",description:"Sell a call option with higher strike price (same expiration)",timing:"Immediately after buying the lower strike",conditions:["Strike price 5-10% above current price"]},{step:3,action:"Monitor Position",description:"Track price movement and regime indicators",timing:"Daily",conditions:["Watch for regime change signals"]},{step:4,action:"Exit Strategy",description:"Close position when target is reached or regime changes",timing:"At 50% profit or regime change",conditions:["Take profit at 50% max gain","Exit if RSI < 40"]}],examples:[{scenario:"SPY Bull Call Spread",setup:"SPY at $580, buy $580 call, sell $590 call",entry:"Net debit: $3.50",exit:"SPY moves to $588, close for $7.00",result:"Profit: $3.50 (100% return)",pnl:350}],risks:["Limited profit potential","Time decay affects both legs","Early assignment risk on short call"],benefits:["Lower cost than buying call outright","Defined maximum risk","Profits from moderate upward movement"]},{id:"covered_call",name:"Covered Call",description:"Own stock and sell call options to generate income in moderately bullish markets",regimeId:"bull_trending",type:"bullish",timeframe:"medium",riskLevel:"low",expectedReturn:8,maxDrawdown:5,winRate:75,instructions:[{step:1,action:"Own the Stock",description:"Hold 100 shares of the underlying stock",timing:"Before implementing strategy",conditions:["Bullish on stock long-term"]},{step:2,action:"Sell Call Option",description:"Sell out-of-the-money call option",timing:"When IV is elevated",conditions:["Strike 5-10% above current price","High implied volatility"]},{step:3,action:"Collect Premium",description:"Receive premium income immediately",timing:"At trade execution",conditions:["Premium > 1% of stock value"]},{step:4,action:"Manage Assignment",description:"Be prepared to sell stock if called away",timing:"At expiration or early assignment",conditions:["Stock price above strike price"]}],examples:[{scenario:"AAPL Covered Call",setup:"Own 100 AAPL at $185, sell $195 call",entry:"Collect $2.50 premium",exit:"AAPL stays below $195, keep premium",result:"Income: $250 (1.35% return)",pnl:250}],risks:["Limited upside if stock rallies strongly","Still exposed to downside risk","Opportunity cost if stock soars"],benefits:["Generate income from stock holdings","Lower breakeven point","Works well in sideways to moderately bullish markets"]},{id:"bear_put_spread",name:"Bear Put Spread",description:"Buy higher strike put, sell lower strike put to profit from moderate downward movement",regimeId:"bear_trending",type:"bearish",timeframe:"short",riskLevel:"medium",expectedReturn:18,maxDrawdown:10,winRate:60,instructions:[{step:1,action:"Buy Put Option",description:"Purchase a put option at or slightly out-of-the-money",timing:"When bear regime is confirmed",conditions:["RSI < 50","Price below SMA20","MACD negative"]},{step:2,action:"Sell Put Option",description:"Sell a put option with lower strike price (same expiration)",timing:"Immediately after buying the higher strike",conditions:["Strike price 5-10% below current price"]},{step:3,action:"Monitor Position",description:"Track price movement and regime indicators",timing:"Daily",conditions:["Watch for regime change signals"]},{step:4,action:"Exit Strategy",description:"Close position when target is reached or regime changes",timing:"At 50% profit or regime change",conditions:["Take profit at 50% max gain","Exit if RSI > 60"]}],examples:[{scenario:"QQQ Bear Put Spread",setup:"QQQ at $500, buy $500 put, sell $490 put",entry:"Net debit: $4.00",exit:"QQQ drops to $492, close for $8.00",result:"Profit: $4.00 (100% return)",pnl:400}],risks:["Limited profit potential","Time decay affects both legs","Early assignment risk on short put"],benefits:["Lower cost than buying put outright","Defined maximum risk","Profits from moderate downward movement"]},{id:"protective_put",name:"Protective Put",description:"Buy put options to protect existing stock positions during bear markets",regimeId:"bear_trending",type:"bearish",timeframe:"medium",riskLevel:"low",expectedReturn:-5,maxDrawdown:3,winRate:85,instructions:[{step:1,action:"Own the Stock",description:"Hold stock position you want to protect",timing:"Before bear regime begins",conditions:["Long-term bullish on stock"]},{step:2,action:"Buy Put Option",description:"Purchase put option as insurance",timing:"When bear signals appear",conditions:["Strike price 5-10% below current price"]},{step:3,action:"Monitor Protection",description:"Track how put value changes with stock price",timing:"Daily",conditions:["Put gains value as stock falls"]},{step:4,action:"Decide on Exercise",description:"Exercise put if stock falls significantly",timing:"Near expiration or major decline",conditions:["Stock price below strike price"]}],examples:[{scenario:"TSLA Protective Put",setup:"Own 100 TSLA at $250, buy $240 put for $8",entry:"Insurance cost: $800",exit:"TSLA drops to $220, put worth $20",result:"Protection: Limited loss to $18/share",pnl:-800}],risks:["Cost of insurance reduces returns","Put expires worthless if stock rises","Time decay erodes put value"],benefits:["Limits downside risk","Allows keeping stock position","Peace of mind during volatility"]},{id:"iron_condor",name:"Iron Condor",description:"Sell call and put spreads to profit from low volatility and range-bound movement",regimeId:"sideways_range",type:"neutral",timeframe:"short",riskLevel:"medium",expectedReturn:12,maxDrawdown:15,winRate:70,instructions:[{step:1,action:"Sell Call Spread",description:"Sell call, buy higher strike call",timing:"When range is established",conditions:["Price in middle of range","High IV"]},{step:2,action:"Sell Put Spread",description:"Sell put, buy lower strike put",timing:"Simultaneously with call spread",conditions:["Strikes equidistant from current price"]},{step:3,action:"Collect Premium",description:"Receive net credit from both spreads",timing:"At trade execution",conditions:["Credit > 30% of spread width"]},{step:4,action:"Manage Position",description:"Close early if profit target hit or range breaks",timing:"At 25-50% profit or range break",conditions:["Price stays within range"]}],examples:[{scenario:"SPY Iron Condor",setup:"SPY at $580, sell $570/$575 put spread, sell $585/$590 call spread",entry:"Net credit: $1.50",exit:"SPY stays between $575-$585, keep credit",result:"Profit: $150 (30% return)",pnl:150}],risks:["Large losses if price moves outside range","Multiple legs increase complexity","Assignment risk on short options"],benefits:["Profits from time decay","High probability of success","Works well in low volatility"]},{id:"short_straddle",name:"Short Straddle",description:"Sell call and put at same strike to profit from low volatility",regimeId:"low_volatility",type:"neutral",timeframe:"short",riskLevel:"high",expectedReturn:20,maxDrawdown:25,winRate:55,instructions:[{step:1,action:"Sell Call Option",description:"Sell at-the-money call option",timing:"When IV is high relative to expected movement",conditions:["High implied volatility","Low expected movement"]},{step:2,action:"Sell Put Option",description:"Sell at-the-money put option (same strike and expiration)",timing:"Simultaneously with call",conditions:["Same strike as call option"]},{step:3,action:"Collect Premium",description:"Receive premium from both options",timing:"At trade execution",conditions:["Total premium > 3% of stock price"]},{step:4,action:"Manage Risk",description:"Close position if price moves significantly",timing:"If price moves beyond breakeven",conditions:["Price stays near strike price"]}],examples:[{scenario:"AAPL Short Straddle",setup:"AAPL at $185, sell $185 call and put",entry:"Collect $8.00 total premium",exit:"AAPL stays near $185, options expire worthless",result:"Profit: $800 (keep full premium)",pnl:800}],risks:["Unlimited risk if stock moves significantly","Assignment risk on both sides","Requires precise timing"],benefits:["High premium collection","Profits from time decay","Benefits from volatility crush"]},{id:"long_straddle",name:"Long Straddle",description:"Buy call and put at same strike to profit from large price movements",regimeId:"high_volatility",type:"volatility",timeframe:"short",riskLevel:"medium",expectedReturn:25,maxDrawdown:12,winRate:45,instructions:[{step:1,action:"Buy Call Option",description:"Purchase at-the-money call option",timing:"Before expected volatility event",conditions:["Low implied volatility","Expected big move"]},{step:2,action:"Buy Put Option",description:"Purchase at-the-money put option (same strike and expiration)",timing:"Simultaneously with call",conditions:["Same strike as call option"]},{step:3,action:"Wait for Movement",description:"Hold position through volatility event",timing:"Until significant price movement occurs",conditions:["Price moves beyond breakeven points"]},{step:4,action:"Exit Strategy",description:"Close profitable leg or both legs",timing:"When target profit reached",conditions:["Price moves significantly in either direction"]}],examples:[{scenario:"NVDA Earnings Straddle",setup:"NVDA at $1400, buy $1400 call and put before earnings",entry:"Total cost: $80",exit:"NVDA moves to $1520 after earnings",result:"Call worth $120, profit: $40",pnl:4e3}],risks:["High cost to enter position","Time decay hurts both options","Needs large movement to profit"],benefits:["Profits from big moves in either direction","Limited risk (premium paid)","Great for earnings or events"]}]);function X(){const[a,r]=h.useState(null),[i,l]=h.useState(null),[c,g]=h.useState("SPY"),[x,o]=h.useState("1d"),[s,n]=h.useState(null),[m,u]=h.useState(!0);h.useEffect(()=>{y();const t=setInterval(y,3e4);return()=>clearInterval(t)},[]);const y=()=>{u(!0);const t=p.generateMockMarketData(),d=p.analyzeRegime(t);l(t),r(d),u(!1)},f=t=>`${(t*100).toFixed(1)}%`,j=t=>`$${t.toFixed(2)}`,N=t=>{switch(t){case"bull_trending":return"text-green-600 bg-green-50 border-green-200";case"bear_trending":return"text-red-600 bg-red-50 border-red-200";case"sideways_range":return"text-blue-600 bg-blue-50 border-blue-200";case"high_volatility":return"text-orange-600 bg-orange-50 border-orange-200";case"low_volatility":return"text-purple-600 bg-purple-50 border-purple-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},k=t=>{switch(t){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return m||!a||!i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg text-gray-500",children:"Analyzing market regime..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-4 mb-4 shadow-sm",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(v,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Market Analysis Learning Tool"}),e.jsxs("div",{className:"mt-2 text-sm text-purple-700",children:[e.jsx("p",{children:"This market regime analysis tool is designed to help you learn how to identify different market conditions. Focus on understanding the patterns and indicators, not on predicting market movements."}),e.jsx("p",{className:"mt-1",children:"Developing the skill to recognize market regimes is more valuable than trying to predict exact market movements. Use this as a learning exercise to build your market awareness."})]})]})]})}),e.jsxs("div",{className:"card shadow-md border-blue-200",children:[e.jsxs("div",{className:"card-header bg-gradient-to-r from-blue-50 to-blue-100",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Market Regime Learning Tool"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Learn to identify market conditions to develop appropriate trading approaches"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`p-6 rounded-lg border-2 shadow-md ${N(a.currentRegime.id)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:a.currentRegime.name}),e.jsxs("div",{className:"flex items-center",children:[a.currentRegime.trend==="bullish"&&e.jsx(w,{className:"h-6 w-6"}),a.currentRegime.trend==="bearish"&&e.jsx(L,{className:"h-6 w-6"}),a.currentRegime.trend==="sideways"&&e.jsx(T,{className:"h-6 w-6"})]})]}),e.jsx("p",{className:"text-sm mb-4",children:a.currentRegime.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Confidence:"}),e.jsx("span",{className:"text-sm font-bold",children:f(a.confidence)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Duration:"}),e.jsx("span",{className:"text-sm",children:a.currentRegime.duration})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Time in Regime:"}),e.jsxs("span",{className:"text-sm",children:[a.timeInRegime," days"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Volatility:"}),e.jsx("span",{className:`text-sm font-medium capitalize ${a.currentRegime.volatility==="high"?"text-red-600":a.currentRegime.volatility==="medium"?"text-yellow-600":"text-green-600"}`,children:a.currentRegime.volatility})]})]})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg shadow-md border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(P,{className:"h-5 w-5 mr-2"}),"Key Indicators"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Price:"}),e.jsx("span",{className:"font-medium bg-blue-50 px-2 py-1 rounded-md",children:j(i.price)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"RSI:"}),e.jsx("span",{className:`font-medium ${i.rsi>70?"text-red-600":i.rsi<30?"text-green-600":"text-gray-900"}`,children:e.jsx("span",{className:"bg-gray-50 px-2 py-1 rounded-md",children:i.rsi.toFixed(1)})})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"VIX:"}),e.jsx("span",{className:`font-medium ${i.vix>30?"text-red-600":i.vix<15?"text-green-600":"text-gray-900"}`,children:e.jsx("span",{className:"bg-gray-50 px-2 py-1 rounded-md",children:i.vix.toFixed(1)})})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"MACD:"}),e.jsx("span",{className:`font-medium ${i.macd>0?"text-green-600":"text-red-600"}`,children:i.macd.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Volume:"}),e.jsxs("span",{className:"font-medium",children:[(i.volume/1e6).toFixed(1),"M"]})]})]})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200 shadow-md",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(A,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Market Alerts"]}),a.warnings.length>0?e.jsx("div",{className:"space-y-2",children:a.warnings.map((t,d)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-700",children:t})]},d))}):e.jsx("p",{className:"text-sm text-gray-600",children:"No current warnings"})]})]})})]}),e.jsxs("div",{className:"card shadow-md border-blue-200",children:[e.jsx("div",{className:"card-header bg-gradient-to-r from-blue-50 to-blue-100",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"What is a Market Regime?"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Understanding Market Regimes"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"A market regime is a persistent state of market behavior characterized by specific patterns in price movement, volatility, and trading volume. Different regimes require different trading approaches for optimal results."}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Current Regime Characteristics:"}),e.jsx("ul",{className:"space-y-2",children:a.currentRegime.characteristics.map((t,d)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:t})]},d))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Regime Transition Probabilities"}),e.jsx("div",{className:"space-y-3",children:a.nextRegimeProb.map((t,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:t.regime.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.regime.description})]}),e.jsx("span",{className:"text-sm font-bold text-blue-600",children:f(t.probability)})]},t.regime.id))})]})]})})]}),e.jsxs("div",{className:"card shadow-md border-blue-200",children:[e.jsx("div",{className:"card-header bg-gradient-to-r from-blue-50 to-blue-100",children:e.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx(v,{className:"h-5 w-5 mr-2"}),"Learning Strategies for ",a.currentRegime.name," Conditions"]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.recommendedStrategies.map(t=>e.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",onClick:()=>n(t),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.name}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k(t.riskLevel)}`,children:[t.riskLevel," complexity"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-green-50 p-2 rounded-md",children:[e.jsx("span",{className:"text-gray-500",children:"Learning Focus:"}),e.jsx("div",{className:"font-medium text-green-600",children:t.type==="bullish"?"Directional Analysis":t.type==="bearish"?"Risk Management":t.type==="neutral"?"Patience & Timing":"Volatility Assessment"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Skill Development:"}),e.jsxs("div",{className:"font-medium",children:[t.winRate/10," points"]})]}),e.jsxs("div",{className:"bg-red-50 p-2 rounded-md",children:[e.jsx("span",{className:"text-gray-500",children:"Challenge Level:"}),e.jsxs("div",{className:"font-medium text-red-600",children:[t.maxDrawdown/5,"/10"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Timeframe:"}),e.jsx("div",{className:"font-medium capitalize",children:t.timeframe})]})]}),e.jsx("button",{className:"w-full mt-4 btn btn-primary text-sm bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:"Study This Approach"})]},t.id))})})]}),s&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>n(null)}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[e.jsxs("div",{className:"bg-white px-6 pt-6 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:s.name}),e.jsxs("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600",children:[e.jsx("span",{className:"sr-only",children:"Close"}),"✕"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Strategy Overview"]}),e.jsx("p",{className:"text-gray-600 mb-4",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Expected Return"}),e.jsxs("div",{className:"font-bold text-green-600",children:["+",s.expectedReturn,"%"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Win Rate"}),e.jsxs("div",{className:"font-bold",children:[s.winRate,"%"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Max Drawdown"}),e.jsxs("div",{className:"font-bold text-red-600",children:["-",s.maxDrawdown,"%"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Risk Level"}),e.jsx("div",{className:`font-bold capitalize ${s.riskLevel==="high"?"text-red-600":s.riskLevel==="medium"?"text-yellow-600":"text-green-600"}`,children:s.riskLevel})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium text-green-700 mb-2 flex items-center",children:[e.jsx(M,{className:"h-4 w-4 mr-1"}),"Benefits"]}),e.jsx("ul",{className:"space-y-1",children:s.benefits.map((t,d)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"•"}),t]},d))})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium text-red-700 mb-2 flex items-center",children:[e.jsx(I,{className:"h-4 w-4 mr-1"}),"Risks"]}),e.jsx("ul",{className:"space-y-1",children:s.risks.map((t,d)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"•"}),t]},d))})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Step-by-Step Instructions"]}),e.jsx("div",{className:"space-y-4",children:s.instructions.map((t,d)=>e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("span",{className:"bg-blue-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center mr-2",children:t.step}),e.jsx("h5",{className:"font-medium text-gray-900",children:t.action})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Timing:"})," ",t.timing]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Conditions:"})," ",t.conditions.join(", ")]})]})]},d))}),s.examples.length>0&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Example Trade"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Scenario:"})," ",s.examples[0].scenario]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Setup:"})," ",s.examples[0].setup]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Entry:"})," ",s.examples[0].entry]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Exit:"})," ",s.examples[0].exit]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Result:"})," ",s.examples[0].result]}),e.jsxs("div",{className:`font-bold ${s.examples[0].pnl>0?"text-green-600":"text-red-600"}`,children:["P&L: ",j(s.examples[0].pnl)]})]})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-6 py-3 sm:flex sm:flex-row-reverse",children:e.jsx("button",{onClick:()=>n(null),className:"btn btn-secondary",children:"Close"})})]})]})}),e.jsxs("div",{className:"card shadow-md border-blue-200",children:[e.jsx("div",{className:"card-header bg-gradient-to-r from-blue-50 to-blue-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Market Chart Analysis",e.jsxs("a",{href:`https://www.tradingview.com/chart/?symbol=${c}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline ml-2 inline-flex items-center",children:[e.jsx("span",{children:"Open in TradingView"}),e.jsx(D,{className:"h-4 w-4 ml-1"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{className:"form-select text-sm",defaultValue:"AMEX:SPY",id:"tvSymbolSelector",onChange:t=>g(t.target.value.replace(/^(AMEX|NASDAQ|CBOE):/,"")),children:[e.jsx("option",{value:"AMEX:SPY",children:"SPY (S&P 500)"}),e.jsx("option",{value:"NASDAQ:QQQ",children:"QQQ (Nasdaq)"}),e.jsx("option",{value:"AMEX:IWM",children:"IWM (Russell 2000)"}),e.jsx("option",{value:"AMEX:DIA",children:"DIA (Dow Jones)"}),e.jsx("option",{value:"CBOE:VIX",children:"VIX (Volatility Index)"})]}),e.jsxs("select",{className:"form-select text-sm",defaultValue:"D",id:"tvIntervalSelector",onChange:t=>o(t.target.value),children:[e.jsx("option",{value:"5",children:"5 min"}),e.jsx("option",{value:"15",children:"15 min"}),e.jsx("option",{value:"60",children:"1 hour"}),e.jsx("option",{value:"240",children:"4 hours"}),e.jsx("option",{value:"D",children:"1 day"}),e.jsx("option",{value:"W",children:"1 week"}),e.jsx("option",{value:"M",children:"1 month"})]})]})]})}),e.jsxs("div",{className:"card-body",children:[e.jsx($,{symbol:c.includes(":")?c:`AMEX:${c}`,width:"100%",height:700,interval:x,theme:"light",style:"candles",studies:["RSI","MACD","Volume"]}),e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Chart Analysis for ",a.currentRegime.name," Regime"]}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:a.currentRegime.trend==="bullish"?"Look for bullish patterns like higher highs and higher lows, with strong volume on up days.":a.currentRegime.trend==="bearish"?"Watch for bearish patterns like lower highs and lower lows, with increased volume on down days.":"Observe range-bound price action between support and resistance levels with decreasing volume."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:"Key Support/Resistance"}),e.jsxs("ul",{className:"space-y-1 text-gray-600",children:[e.jsxs("li",{children:["• Support: $",(i.price*.95).toFixed(2)]}),e.jsxs("li",{children:["• Resistance: $",(i.price*1.05).toFixed(2)]}),e.jsxs("li",{children:["• 200-day MA: $",i.movingAverages.sma200.toFixed(2)]})]})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:"Momentum Indicators"}),e.jsxs("ul",{className:"space-y-1 text-gray-600",children:[e.jsxs("li",{children:["• RSI: ",i.rsi.toFixed(1)," (",i.rsi>70?"Overbought":i.rsi<30?"Oversold":"Neutral",")"]}),e.jsxs("li",{children:["• MACD: ",i.macd.toFixed(2)," (",i.macd>0?"Bullish":"Bearish",")"]}),e.jsxs("li",{children:["• Volume: ",(i.volume/1e6).toFixed(1),"M (",i.volume>1e6?"High":"Low",")"]})]})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:"Volatility Metrics"}),e.jsxs("ul",{className:"space-y-1 text-gray-600",children:[e.jsxs("li",{children:["• VIX: ",i.vix.toFixed(1)," (",i.vix>30?"High":i.vix<15?"Low":"Moderate",")"]}),e.jsxs("li",{children:["• Bollinger Width: ",((i.bollingerBands.upper-i.bollingerBands.lower)/i.bollingerBands.middle*100).toFixed(1),"%"]}),e.jsxs("li",{children:["• ATR: $",(i.price*.015).toFixed(2)," (",a.currentRegime.volatility," volatility)"]})]})]})]})]})]})]}),e.jsxs("div",{className:"card shadow-md border-blue-200",children:[e.jsx("div",{className:"card-header bg-gradient-to-r from-blue-50 to-blue-100",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Learning to Navigate Different Market Regimes"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Bull Markets"}),e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Bull Market Skills"}),e.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Learn to identify uptrends and develop skills for capitalizing on momentum. Practice managing position sizing in trending markets."}),e.jsxs("ul",{className:"text-xs text-green-600 space-y-1",children:[e.jsx("li",{children:"• Learn to identify trend strength"}),e.jsx("li",{children:"• Practice entry timing on pullbacks"}),e.jsx("li",{children:"• Develop position management skills"})]})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Bear Market Skills"}),e.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Develop risk management skills and learn to identify downtrends. Practice patience and capital preservation techniques."}),e.jsxs("ul",{className:"text-xs text-red-600 space-y-1",children:[e.jsx("li",{children:"• Learn to spot warning signs"}),e.jsx("li",{children:"• Practice hedging techniques"}),e.jsx("li",{children:"• Develop risk assessment skills"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Sideways Market Skills"}),e.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Learn to identify consolidation patterns and develop patience. Practice strategies that benefit from time decay."}),e.jsxs("ul",{className:"text-xs text-blue-600 space-y-1",children:[e.jsx("li",{children:"• Learn to identify support/resistance"}),e.jsx("li",{children:"• Practice premium collection strategies"}),e.jsx("li",{children:"• Develop pattern recognition skills"})]})]})]})})]})]})}export{X as default};
