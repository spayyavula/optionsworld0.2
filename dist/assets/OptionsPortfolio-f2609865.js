import{g as N,j as e,T as x,C as o,L as v}from"./index-b5290ce3.js";import{D as m}from"./dollar-sign-d2911db4.js";import{R as h,P as b,a as f,C as y,T as j,B as p,b as P,X as w,Y as L,c as z}from"./PieChart-2fa43e88.js";import{T as C}from"./trending-down-bccff4e4.js";import{f as k}from"./index-f35a43c3.js";const d={positive:"#10b981",negative:"#ef4444",neutral:"#6b7280"};function U(){const{state:a}=N(),t=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),n=s=>`${s>=0?"+":""}${s.toFixed(2)}%`,c=a.positions.map((s,r)=>({name:s.contractTicker,value:Math.abs(s.totalValue),color:s.unrealizedPnL>=0?d.positive:d.negative}));a.balance>0&&c.push({name:"Cash",value:a.balance,color:d.neutral});const u=a.positions.map(s=>({contract:s.contractTicker.split("240315")[0],unrealizedPnL:s.unrealizedPnL,unrealizedPnLPercent:s.unrealizedPnLPercent,fill:s.unrealizedPnL>=0?d.positive:d.negative})),l=a.positions.reduce((s,r)=>s+r.unrealizedPnL,0),i=a.positions.reduce((s,r)=>s+r.quantity*r.avgPrice*100,0),g=i>0?l/i*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[e.jsx("div",{className:"card bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200 shadow-md hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(m,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t(a.totalValue)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Updated ",new Date().toLocaleTimeString()]})]})]})})}),e.jsx("div",{className:"card bg-gradient-to-br from-green-50 to-green-100 border-green-200 shadow-md hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(x,{className:`h-8 w-8 ${l>=0?"text-green-600":"text-red-600"}`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Unrealized P&L"}),e.jsx("p",{className:`text-3xl font-bold ${l>=0?"text-green-600":"text-red-600"}`,children:t(l)}),e.jsx("p",{className:`text-sm ${l>=0?"text-green-600":"text-red-600"}`,children:n(g)})]})]})})}),e.jsx("div",{className:"card bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200 shadow-md hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(m,{className:"h-8 w-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cash Balance"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t(a.balance)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Available for trading"})]})]})})}),e.jsx("div",{className:"card bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200 shadow-md hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(o,{className:"h-8 w-8 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Options Invested"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[a.totalValue>0?(i/a.totalValue*100).toFixed(1):"0.0","%",e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"of portfolio"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:t(i)})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"card shadow-md border-blue-200",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Options Portfolio Allocation"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-80",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(b,{children:[e.jsx(f,{data:c,cx:"50%",cy:"50%",labelLine:!0,label:({name:s,percent:r})=>`${s} ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:c.map((s,r)=>e.jsx(y,{fill:s.color},`cell-${r}`))}),e.jsx(j,{formatter:s=>t(s)})]})})})})]}),e.jsxs("div",{className:"card shadow-md border-blue-200",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Options Performance"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-80",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(p,{data:u,children:[e.jsx(P,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(w,{dataKey:"contract"}),e.jsx(L,{tickFormatter:s=>`${s.toFixed(0)}%`,domain:["auto","auto"],padding:{top:20,bottom:20}}),e.jsx(j,{formatter:(s,r)=>[r==="unrealizedPnL"?t(s):`${s.toFixed(2)}%`,r==="unrealizedPnL"?"P&L":"P&L %"],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"6px",border:"1px solid #e5e7eb",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"}}),e.jsx(z,{dataKey:"unrealizedPnLPercent",fill:"#2563eb"})]})})})})]})]}),e.jsxs("div",{className:"card shadow-md border-blue-200",children:[e.jsx("div",{className:"card-header bg-gradient-to-r from-blue-50 to-blue-100",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Current Options Positions"})}),e.jsx("div",{className:"card-body",children:a.positions.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(o,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No options positions"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Start trading options to build your portfolio. ",e.jsx(v,{to:"/trading",className:"text-blue-600 hover:underline",children:"Go to Trading"})]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Contract"}),e.jsx("th",{children:"Underlying"}),e.jsx("th",{children:"Strike/Expiry"}),e.jsx("th",{children:"Contracts"}),e.jsx("th",{children:"Avg Price"}),e.jsx("th",{children:"Current Price"}),e.jsx("th",{children:"Market Value"}),e.jsx("th",{children:"Unrealized P&L"}),e.jsx("th",{children:"Greeks"}),e.jsx("th",{children:"Purchase Date"})]})}),e.jsx("tbody",{children:a.positions.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-l-4 border-blue-500",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.contractTicker}),e.jsx("div",{className:"text-sm text-gray-500 capitalize",children:s.contractType})]})}),e.jsx("td",{className:"font-medium",children:s.underlyingTicker}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t(s.strikePrice)}),e.jsx("div",{className:"text-sm text-gray-500",children:s.expirationDate})]})}),e.jsx("td",{className:"font-medium",children:s.quantity}),e.jsx("td",{children:t(s.avgPrice)}),e.jsx("td",{children:t(s.currentPrice)}),e.jsx("td",{className:"font-medium bg-gray-50",children:t(s.totalValue)}),e.jsxs("td",{className:s.unrealizedPnL>=0?"text-green-600":"text-red-600",children:[e.jsx("div",{className:"font-medium",children:t(s.unrealizedPnL)}),e.jsxs("div",{className:"text-sm",children:[s.unrealizedPnLPercent>=0?e.jsx(x,{className:"h-3 w-3 inline mr-1"}):e.jsx(C,{className:"h-3 w-3 inline mr-1"}),n(s.unrealizedPnLPercent)]})]}),e.jsxs("td",{className:"text-sm",children:[e.jsxs("div",{children:["Δ: ",s.delta.toFixed(3)]}),e.jsxs("div",{children:["Γ: ",s.gamma.toFixed(3)]}),e.jsxs("div",{children:["Θ: ",s.theta.toFixed(3)]}),e.jsxs("div",{children:["ν: ",s.vega.toFixed(3)]})]}),e.jsx("td",{className:"text-sm text-gray-500",children:k(s.purchaseDate,"MMM dd, yyyy")})]},s.id))})]})})})]})]})}export{U as default};
