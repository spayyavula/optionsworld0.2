import{j as e,P as U}from"./index-7a519df4.js";import{r as N}from"./react-vendor-1447f830.js";import{A as B,C as F,h as H,$ as W,D as Q,R as V,a0 as Y,Z,a1 as G,I as K}from"./ui-vendor-6492ecb9.js";function S(m){const h=.254829592,n=-.284496736,c=1.421413741,r=-1.453152027,t=1.061405429,s=.3275911,d=m<0?-1:1;m=Math.abs(m);const a=1/(1+s*m),l=1-((((t*a+r)*a+c)*a+n)*a+h)*a*Math.exp(-m*m);return .5*(1+d*l)}function q(m){return Math.exp(-.5*m*m)/Math.sqrt(2*Math.PI)}function X(m,h,n,c,r){const t=(Math.log(m/h)+(c+.5*r*r)*n)/(r*Math.sqrt(n)),s=t-r*Math.sqrt(n);return{d1:t,d2:s}}class I{static calculateOptionPrice(h,n,c,r,t,s){if(h<=0||n<=0||c<=0||t<=0)throw new Error("Invalid input parameters: values must be positive");c<1e-6&&(c=1e-6);const{d1:d,d2:a}=X(h,n,c,r,t);let l,x;s?(l=h*S(d)-n*Math.exp(-r*c)*S(a),x=S(d)):(l=n*Math.exp(-r*c)*S(-a)-h*S(-d),x=S(d)-1);const p=q(d)/(h*t*Math.sqrt(c)),u=-(h*t*q(d))/(2*Math.sqrt(c)),o=r*n*Math.exp(-r*c);let g;s?g=(u-o*S(a))/365:g=(u+o*S(-a))/365;const C=h*Math.sqrt(c)*q(d)*.01;let b;return s?b=n*c*Math.exp(-r*c)*S(a)*.01:b=-n*c*Math.exp(-r*c)*S(-a)*.01,{price:l,delta:x,gamma:p,theta:g,vega:C,rho:b}}static calculateImpliedVolatility(h,n,c,r,t,s,d=1e-4,a=100){let l=.3,x=0;for(;x<a;){const p=this.calculateOptionPrice(n,c,r,t,l,s),u=p.price-h;if(Math.abs(u)<d)return l;l=l-u/(p.vega*100),l<=.001&&(l=.001),l>5&&(l=5),x++}}static findArbitrageOpportunities(h,n=.05,c=.05){const r=[];for(const t of h)try{const s=t.underlying_price||0;if(!s)continue;const d=t.strike_price,a=t.last,l=t.bid,x=t.ask,p=new Date(t.expiration_date),u=new Date,g=Math.max(1,(p.getTime()-u.getTime())/(1e3*60*60*24))/365;let C=t.implied_volatility;if(!C&&l>0&&x>0){const f=(l+x)/2;C=this.calculateImpliedVolatility(f,s,d,g,n,t.contract_type==="call")||.3}const w=this.calculateOptionPrice(s,d,g,n,C,t.contract_type==="call").price,v=a-w,P=Math.abs(v)/w;if(P>=c){let f="low";t.volume>1e3&&t.open_interest>5e3&&(x-l)/l<.1?f="high":t.volume>500&&t.open_interest>1e3&&(x-l)/l<.2&&(f="medium");const y=Math.abs(v)*100,k=f==="high"?y*.5:f==="medium"?y:y*2;let D="";v>0?D=`${t.contract_type==="call"?"Call":"Put"} appears overpriced. Consider selling ${t.ticker}.`:D=`${t.contract_type==="call"?"Call":"Put"} appears underpriced. Consider buying ${t.ticker}.`,r.push({contractTicker:t.ticker,underlyingTicker:t.underlying_ticker,strikePrice:t.strike_price,expirationDate:t.expiration_date,contractType:t.contract_type,marketPrice:a,theoreticalPrice:w,priceDifference:v,percentageDifference:P,confidence:f,recommendation:D,expectedProfit:y,maxLoss:k,riskRewardRatio:y/k})}}catch(s){console.error(`Error analyzing contract ${t.ticker}:`,s)}return r.sort((t,s)=>s.percentageDifference-t.percentageDifference)}static findPutCallParityArbitrage(h,n,c,r=.05){const t=[],s=new Map;for(const d of h){const a=`${d.strike_price}-${d.expiration_date}`;if(!s.has(a))s.set(a,{call:d,put:null});else{const l=s.get(a);l.call=d}}for(const d of n){const a=`${d.strike_price}-${d.expiration_date}`;if(!s.has(a))s.set(a,{call:null,put:d});else{const l=s.get(a);l.put=d}}for(const[d,a]of s.entries()){if(!a.call||!a.put)continue;const l=a.call,x=a.put,p=l.strike_price,u=new Date(l.expiration_date),o=new Date,C=Math.max(1,(u.getTime()-o.getTime())/(1e3*60*60*24))/365,b=l.last,w=x.last,v=p*Math.exp(-r*C),P=b+v,f=w+c,y=Math.abs(P-f),k=y/Math.min(P,f);if(k>=.02){let D="",j="",M="call";P>f?(D="Sell call, buy put, buy stock, borrow cash",j=l.ticker,M="call"):(D="Buy call, sell put, short stock, lend cash",j=x.ticker,M="put");const _=y*100,$=_*.5;t.push({contractTicker:j,underlyingTicker:l.underlying_ticker,strikePrice:p,expirationDate:l.expiration_date,contractType:M,marketPrice:M==="call"?b:w,theoreticalPrice:M==="call"?f-v:P-c,priceDifference:y,percentageDifference:k,confidence:k>.05?"high":"medium",recommendation:D,expectedProfit:_,maxLoss:$,riskRewardRatio:_/$})}}return t.sort((d,a)=>a.percentageDifference-d.percentageDifference)}static findVolatilityArbitrage(h,n,c=.1){const r=[];for(const t of h)try{const s=t.implied_volatility;if(!s)continue;const d=s-n,a=Math.abs(d)/n;if(a>=c){const l=t.underlying_price||0;if(!l)continue;const x=t.strike_price,p=t.last,u=new Date(t.expiration_date),o=new Date,C=Math.max(1,(u.getTime()-o.getTime())/(1e3*60*60*24))/365,w=this.calculateOptionPrice(l,x,C,.05,n,t.contract_type==="call").price,v=p-w,P=Math.abs(v)/w;let f="";d>0?f=`Implied volatility (${(s*100).toFixed(1)}%) is higher than historical volatility (${(n*100).toFixed(1)}%). Consider selling ${t.contract_type}s and delta-hedging.`:f=`Implied volatility (${(s*100).toFixed(1)}%) is lower than historical volatility (${(n*100).toFixed(1)}%). Consider buying ${t.contract_type}s and delta-hedging.`;const y=Math.abs(v)*100,k=t.contract_type==="call"?l*.1*100:x*.1*100;r.push({contractTicker:t.ticker,underlyingTicker:t.underlying_ticker,strikePrice:t.strike_price,expirationDate:t.expiration_date,contractType:t.contract_type,marketPrice:p,theoreticalPrice:w,priceDifference:v,percentageDifference:P,confidence:a>.1?"high":"medium",recommendation:f,expectedProfit:y,maxLoss:k,riskRewardRatio:y/k})}}catch(s){console.error(`Error analyzing volatility for contract ${t.ticker}:`,s)}return r.sort((t,s)=>s.percentageDifference-t.percentageDifference)}}const J=({symbol:m,width:h=350,height:n=220,theme:c="light"})=>{const r=N.useRef(null);return N.useEffect(()=>{const t=()=>{r.current&&(r.current.innerHTML="")};if(t(),!!r.current){try{const s=document.createElement("div");s.className="tradingview-mini-chart",s.style.display="flex",s.style.flexDirection="column",s.style.alignItems="center",s.style.justifyContent="center",s.style.width="100%",s.style.height="100%",s.style.backgroundColor=c==="dark"?"#1a1a1a":"#f8f9fa",s.style.borderRadius="0.5rem",s.style.padding="1rem",s.style.textAlign="center";const d=m.includes(":")?m:m==="SPY"?"AMEX:SPY":`NASDAQ:${m}`,a="https://www.tradingview.com/chart",l=new URLSearchParams;l.append("symbol",d),c==="dark"&&l.append("theme","dark");const x=document.createElement("div");x.style.fontWeight="bold",x.style.fontSize="16px",x.style.marginBottom="0.5rem",x.style.color=c==="dark"?"#e0e0e0":"#111827",x.textContent=m;const p=document.createElement("div");p.style.width="100%",p.style.height="70%",p.style.backgroundColor=c==="dark"?"#2a2a2a":"#e9ecef",p.style.borderRadius="0.375rem",p.style.marginBottom="0.75rem",p.style.display="flex",p.style.alignItems="center",p.style.justifyContent="center";const u=document.createElement("div");u.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="${c==="dark"?"#e0e0e0":"#6c757d"}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
        </svg>
      `,p.appendChild(u);const o=document.createElement("a");o.href=`${a}/?${l.toString()}`,o.target="_blank",o.rel="noopener noreferrer",o.style.display="inline-flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.padding="0.5rem 0.75rem",o.style.backgroundColor="#2962FF",o.style.color="white",o.style.borderRadius="0.375rem",o.style.fontSize="0.875rem",o.style.fontWeight="500",o.style.textDecoration="none",o.style.transition="background-color 150ms",o.textContent="View Chart";const g=document.createElement("div");g.style.marginTop="0.5rem",g.style.fontSize="10px",g.style.color=c==="dark"?"#adb5bd":"#6c757d",g.textContent="Requires TradingView account",o.onmouseover=()=>{o.style.backgroundColor="#1E53E5"},o.onmouseout=()=>{o.style.backgroundColor="#2962FF"},s.appendChild(x),s.appendChild(p),s.appendChild(o),s.appendChild(g),r.current.appendChild(s)}catch(s){console.error("Error initializing TradingView mini chart:",s),r.current&&(r.current.innerHTML='<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #888;">Failed to load chart</div>')}return t}},[m,h,n,c]),e.jsx("div",{ref:r,className:"tradingview-mini-chart-container",style:{width:typeof h=="number"?`${h}px`:h,height:typeof n=="number"?`${n}px`:n,borderRadius:"0.5rem",overflow:"hidden",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"}})},ee=J;function re(){const[m,h]=N.useState([]),[n,c]=N.useState(!0),[r,t]=N.useState(null),[s,d]=N.useState(.05),[a,l]=N.useState(.05),[x,p]=N.useState(""),[u,o]=N.useState("all"),[g,C]=N.useState("all"),[b,w]=N.useState("price"),[v,P]=N.useState(.25),[f,y]=N.useState(!1);N.useEffect(()=>{k()},[b,s,a,v]);const k=async()=>{try{c(!0);const T=U.getTopLiquidOptions().map(R=>{const L=D(R.underlying_ticker);return{...R,underlying_price:L}});let A=[];switch(b){case"price":A=I.findArbitrageOpportunities(T,s,a);break;case"volatility":A=I.findVolatilityArbitrage(T,v,a);break;case"put-call-parity":const R=T.filter(E=>E.contract_type==="call"),L=T.filter(E=>E.contract_type==="put"),z=D("SPY");A=I.findPutCallParityArbitrage(R,L,z,s);break}h(A)}catch(i){console.error("Failed to load arbitrage opportunities:",i)}finally{c(!1)}},D=i=>({SPY:580,QQQ:500,AAPL:185,MSFT:420,GOOGL:150,AMZN:175,TSLA:190,NVDA:1400})[i]||100,j=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i),M=i=>`${(i*100).toFixed(2)}%`,_=i=>{switch(i){case"high":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},$=m.filter(i=>{const T=i.contractTicker.toLowerCase().includes(x.toLowerCase())||i.underlyingTicker.toLowerCase().includes(x.toLowerCase()),A=u==="all"||i.confidence===u,R=g==="all"||i.contractType===g;return T&&A&&R}),O={totalOpportunities:m.length,highConfidence:m.filter(i=>i.confidence==="high").length,avgPriceDifference:m.length>0?m.reduce((i,T)=>i+Math.abs(T.priceDifference),0)/m.length:0,maxProfit:m.length>0?Math.max(...m.map(i=>i.expectedProfit)):0};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(B,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Options Arbitrage Disclaimer"}),e.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[e.jsx("p",{children:"The arbitrage opportunities identified are based on theoretical models and may not reflect actual market conditions. Transaction costs, slippage, and other factors can significantly impact profitability."}),e.jsx("p",{className:"mt-1",children:"Options arbitrage involves substantial risk and requires advanced knowledge of options pricing and trading strategies. This tool is for educational purposes only."})]})]})]})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Options Arbitrage Finder"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Identify potential arbitrage opportunities using the Black-Scholes model"})]}),e.jsx(F,{className:"h-12 w-12 text-blue-600"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(F,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Opportunities"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.totalOpportunities})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(H,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"High Confidence"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.highConfidence})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(W,{className:"h-8 w-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Price Diff"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j(O.avgPriceDifference)})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Q,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Max Potential Profit"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j(O.maxProfit)})]})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Arbitrage Settings"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Arbitrage Type"}),e.jsxs("select",{className:"form-select",value:b,onChange:i=>w(i.target.value),children:[e.jsx("option",{value:"price",children:"Price Arbitrage"}),e.jsx("option",{value:"volatility",children:"Volatility Arbitrage"}),e.jsx("option",{value:"put-call-parity",children:"Put-Call Parity"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b==="price"?"Find options priced differently from their theoretical value":b==="volatility"?"Find options with implied volatility different from historical":"Find violations of put-call parity relationship"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Risk-Free Rate (%)"}),e.jsx("input",{type:"number",className:"form-input",value:s*100,onChange:i=>d(parseFloat(i.target.value)/100),step:"0.1",min:"0",max:"10"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current treasury yield (affects theoretical pricing)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Min Price Difference (%)"}),e.jsx("input",{type:"number",className:"form-input",value:a*100,onChange:i=>l(parseFloat(i.target.value)/100),step:"1",min:"1",max:"50"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum difference to consider an arbitrage opportunity"})]}),b==="volatility"&&e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Historical Volatility (%)"}),e.jsx("input",{type:"number",className:"form-input",value:v*100,onChange:i=>P(parseFloat(i.target.value)/100),step:"1",min:"5",max:"100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Historical volatility of the underlying asset"})]}),e.jsx("div",{className:"lg:col-span-3 flex justify-end",children:e.jsxs("button",{onClick:k,disabled:n,className:"btn btn-primary",children:[n?e.jsx(V,{className:"h-4 w-4 animate-spin"}):e.jsx(V,{className:"h-4 w-4"}),"Refresh Opportunities"]})})]})})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search by ticker...",className:"form-input pl-10",value:x,onChange:i=>p(i.target.value)})]}),e.jsxs("select",{className:"form-select",value:u,onChange:i=>o(i.target.value),children:[e.jsx("option",{value:"all",children:"All Confidence Levels"}),e.jsx("option",{value:"high",children:"High Confidence"}),e.jsx("option",{value:"medium",children:"Medium Confidence"}),e.jsx("option",{value:"low",children:"Low Confidence"})]}),e.jsxs("select",{className:"form-select",value:g,onChange:i=>C(i.target.value),children:[e.jsx("option",{value:"all",children:"All Option Types"}),e.jsx("option",{value:"call",children:"Calls Only"}),e.jsx("option",{value:"put",children:"Puts Only"})]})]})})}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Arbitrage Opportunities"})}),e.jsx("div",{className:"card-body",children:n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(V,{className:"h-8 w-8 text-blue-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Calculating arbitrage opportunities..."})]})}):$.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(F,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No arbitrage opportunities found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filters or decreasing the minimum price difference."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Contract"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Strike/Expiry"}),e.jsx("th",{children:"Market Price"}),e.jsx("th",{children:"Theoretical Price"}),e.jsx("th",{children:"Difference"}),e.jsx("th",{children:"Confidence"}),e.jsx("th",{children:"Expected Profit"}),e.jsx("th",{children:"Risk/Reward"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:$.map(i=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:i.contractTicker}),e.jsx("div",{className:"text-sm text-gray-500",children:i.underlyingTicker})]})}),e.jsx("td",{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.contractType==="call"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.contractType.toUpperCase()})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:j(i.strikePrice)}),e.jsx("div",{className:"text-sm text-gray-500",children:i.expirationDate})]})}),e.jsx("td",{className:"font-medium",children:j(i.marketPrice)}),e.jsx("td",{className:"font-medium",children:j(i.theoreticalPrice)}),e.jsxs("td",{className:i.priceDifference>=0?"text-green-600":"text-red-600",children:[e.jsx("div",{className:"font-medium",children:j(i.priceDifference)}),e.jsx("div",{className:"text-sm",children:M(i.percentageDifference)})]}),e.jsx("td",{children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(i.confidence)}`,children:i.confidence})}),e.jsx("td",{className:"font-medium text-green-600",children:j(i.expectedProfit)}),e.jsx("td",{className:"font-medium",children:i.riskRewardRatio.toFixed(2)}),e.jsx("td",{children:e.jsx("button",{onClick:()=>{t(i),y(!0)},className:"btn btn-secondary text-sm",children:"Details"})})]},i.contractTicker))})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Understanding Options Arbitrage"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-800 mb-2 flex items-center",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Price Arbitrage"]}),e.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Price arbitrage involves identifying options that are mispriced relative to their theoretical value calculated using the Black-Scholes model."}),e.jsxs("ul",{className:"text-xs text-blue-600 space-y-1",children:[e.jsx("li",{children:"• Buy underpriced options"}),e.jsx("li",{children:"• Sell overpriced options"}),e.jsx("li",{children:"• Consider liquidity and transaction costs"}),e.jsx("li",{children:"• Monitor implied volatility changes"})]})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("h4",{className:"font-semibold text-purple-800 mb-2 flex items-center",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Volatility Arbitrage"]}),e.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Volatility arbitrage exploits differences between implied volatility in options prices and expected future volatility of the underlying asset."}),e.jsxs("ul",{className:"text-xs text-purple-600 space-y-1",children:[e.jsx("li",{children:"• Sell options with high implied volatility"}),e.jsx("li",{children:"• Buy options with low implied volatility"}),e.jsx("li",{children:"• Delta-hedge to isolate volatility exposure"}),e.jsx("li",{children:"• Requires sophisticated risk management"})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("h4",{className:"font-semibold text-green-800 mb-2 flex items-center",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Put-Call Parity"]}),e.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Put-call parity is a relationship between the prices of puts and calls with the same strike and expiration. Violations create arbitrage opportunities."}),e.jsxs("ul",{className:"text-xs text-green-600 space-y-1",children:[e.jsx("li",{children:"• C + PV(K) = P + S"}),e.jsx("li",{children:"• Requires simultaneous execution"}),e.jsx("li",{children:"• Consider dividend adjustments"}),e.jsx("li",{children:"• Watch for early exercise risk"})]})]})]})})]}),f&&r&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>y(!1)}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[e.jsxs("div",{className:"bg-white px-6 pt-6 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.contractTicker}),e.jsxs("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:[e.jsx("span",{className:"sr-only",children:"Close"}),"✕"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Arbitrage Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Underlying"}),e.jsx("div",{className:"font-bold text-gray-900",children:r.underlyingTicker})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Option Type"}),e.jsx("div",{className:"font-bold text-gray-900",children:r.contractType.toUpperCase()})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Strike Price"}),e.jsx("div",{className:"font-bold text-gray-900",children:j(r.strikePrice)})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Expiration"}),e.jsx("div",{className:"font-bold text-gray-900",children:r.expirationDate})]})]}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Pricing Analysis"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Market Price:"}),e.jsx("div",{className:"font-medium",children:j(r.marketPrice)})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Theoretical Price:"}),e.jsx("div",{className:"font-medium",children:j(r.theoreticalPrice)})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Price Difference:"}),e.jsxs("div",{className:`font-medium ${r.priceDifference>=0?"text-green-600":"text-red-600"}`,children:[j(r.priceDifference)," (",M(r.percentageDifference),")"]})]})]}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Risk/Reward"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Expected Profit:"}),e.jsx("div",{className:"font-medium text-green-600",children:j(r.expectedProfit)})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Maximum Loss:"}),e.jsx("div",{className:"font-medium text-red-600",children:j(r.maxLoss)})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Risk/Reward Ratio:"}),e.jsx("div",{className:"font-medium",children:r.riskRewardRatio.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Confidence:"}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(r.confidence)}`,children:r.confidence.toUpperCase()})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Underlying Chart"}),e.jsx("div",{className:"mb-6",children:e.jsx(ee,{symbol:r.underlyingTicker,width:"100%",height:200,theme:"light"})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recommendation"}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-6",children:e.jsx("p",{className:"text-blue-800",children:r.recommendation})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Implementation Steps"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"1. Verify Pricing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Double-check market prices and ensure the arbitrage opportunity still exists."})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"2. Calculate Position Size"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Determine appropriate position size based on your risk tolerance and account size."})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"3. Execute Trade"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Place the trade quickly to capture the arbitrage opportunity before it disappears."})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"4. Manage Risk"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Set stop-loss orders and monitor the position closely for changes in market conditions."})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(B,{className:"h-5 w-5 text-yellow-600 mt-0.5 mr-2"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-yellow-800",children:"Risk Warning"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Arbitrage opportunities can disappear quickly. Market prices may change before you can execute the trade. Always consider transaction costs, liquidity, and execution risk."})]})]})})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-6 py-3 sm:flex sm:flex-row-reverse",children:e.jsx("button",{onClick:()=>y(!1),className:"btn btn-secondary",children:"Close"})})]})]})})]})}export{re as default};
