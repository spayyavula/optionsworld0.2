var c=Object.defineProperty;var p=(s,e,t)=>e in s?c(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var r=(s,e,t)=>(p(s,typeof e!="symbol"?e+"":e,t),t);class n{static getLearningModules(){try{const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):this.getDefaultModules()}catch(e){return console.error("Error loading learning modules:",e),this.getDefaultModules()}}static getLearningProgress(){var e;try{const t=localStorage.getItem(this.PROGRESS_KEY);if(t){const i=JSON.parse(t);return{...i,achievements:((e=i.achievements)==null?void 0:e.map(o=>({...o,unlockedAt:new Date(o.unlockedAt)})))||[]}}return this.getDefaultProgress()}catch(t){return console.error("Error loading learning progress:",t),this.getDefaultProgress()}}static updateProgress(e){const i={...this.getLearningProgress(),...e};localStorage.setItem(this.PROGRESS_KEY,JSON.stringify(i))}static completeModule(e,t){const i=this.getLearningProgress();if(!i.completedModules.includes(e)){i.completedModules.push(e),i.experience+=100;const o=Math.floor(i.experience/500)+1;o>i.level&&(i.level=o,this.unlockAchievement("level_up",`Reached Level ${o}`))}t!==void 0&&(i.quizScores[e]=t),this.updateProgress(i)}static getJournalEntries(){try{const e=localStorage.getItem(this.JOURNAL_KEY);return e?JSON.parse(e).map(i=>({...i,date:new Date(i.date)})):[]}catch(e){return console.error("Error loading journal entries:",e),[]}}static addJournalEntry(e){const t=this.getJournalEntries(),i={...e,id:`journal_${Date.now()}`,date:new Date};t.push(i),localStorage.setItem(this.JOURNAL_KEY,JSON.stringify(t));const o=this.getLearningProgress();return o.journalEntries=t.length,o.experience+=25,t.length===1?this.unlockAchievement("first_journal","First Journal Entry"):t.length===10?this.unlockAchievement("journal_10","10 Journal Entries"):t.length===50&&this.unlockAchievement("journal_50","50 Journal Entries"),this.updateProgress(o),i}static updateJournalEntry(e,t){const i=this.getJournalEntries(),o=i.findIndex(a=>a.id===e);o!==-1&&(i[o]={...i[o],...t},localStorage.setItem(this.JOURNAL_KEY,JSON.stringify(i)))}static deleteJournalEntry(e){const i=this.getJournalEntries().filter(a=>a.id!==e);localStorage.setItem(this.JOURNAL_KEY,JSON.stringify(i));const o=this.getLearningProgress();o.journalEntries=i.length,this.updateProgress(o)}static getStrategyTemplates(){return[{id:"long_call",name:"Long Call",description:"Buy a call option to profit from upward price movement",type:"bullish",complexity:"beginner",legs:[{action:"buy",optionType:"call",strike:0,expiration:"30d",quantity:1}],maxRisk:100,maxProfit:1/0,breakeven:[0],bestMarketConditions:["Bull trending","Low volatility expanding"],worstMarketConditions:["Bear trending","Sideways with time decay"],timeDecay:"negative",volatilityImpact:"positive"},{id:"long_put",name:"Long Put",description:"Buy a put option to profit from downward price movement",type:"bearish",complexity:"beginner",legs:[{action:"buy",optionType:"put",strike:0,expiration:"30d",quantity:1}],maxRisk:100,maxProfit:1/0,breakeven:[0],bestMarketConditions:["Bear trending","High volatility"],worstMarketConditions:["Bull trending","Low volatility"],timeDecay:"negative",volatilityImpact:"positive"},{id:"covered_call",name:"Covered Call",description:"Own stock and sell call options for income",type:"neutral",complexity:"intermediate",legs:[{action:"sell",optionType:"call",strike:0,expiration:"30d",quantity:1}],maxRisk:0,maxProfit:200,breakeven:[0],bestMarketConditions:["Sideways","Mild bullish"],worstMarketConditions:["Strong bull","Strong bear"],timeDecay:"positive",volatilityImpact:"negative"},{id:"bull_call_spread",name:"Bull Call Spread",description:"Buy lower strike call, sell higher strike call",type:"bullish",complexity:"intermediate",legs:[{action:"buy",optionType:"call",strike:0,expiration:"30d",quantity:1},{action:"sell",optionType:"call",strike:0,expiration:"30d",quantity:1}],maxRisk:150,maxProfit:350,breakeven:[0],bestMarketConditions:["Moderate bull","Low to moderate volatility"],worstMarketConditions:["Bear trending","High volatility"],timeDecay:"neutral",volatilityImpact:"negative"},{id:"iron_condor",name:"Iron Condor",description:"Sell call and put spreads for range-bound profit",type:"neutral",complexity:"advanced",legs:[{action:"sell",optionType:"put",strike:0,expiration:"30d",quantity:1},{action:"buy",optionType:"put",strike:0,expiration:"30d",quantity:1},{action:"sell",optionType:"call",strike:0,expiration:"30d",quantity:1},{action:"buy",optionType:"call",strike:0,expiration:"30d",quantity:1}],maxRisk:350,maxProfit:150,breakeven:[0,0],bestMarketConditions:["Sideways","Low volatility"],worstMarketConditions:["High volatility","Strong directional moves"],timeDecay:"positive",volatilityImpact:"negative"}]}static unlockAchievement(e,t){const i=this.getLearningProgress();if(!i.achievements.find(o=>o.id===e)){const o={id:e,title:t,description:`Achievement unlocked: ${t}`,icon:"üèÜ",unlockedAt:new Date,category:"learning"};i.achievements.push(o),this.updateProgress(i)}}static getDefaultModules(){return[{id:"options_basics",title:"Options Trading Fundamentals",description:"Learn the basic concepts of options trading including calls, puts, and key terminology",difficulty:"beginner",estimatedTime:45,prerequisites:[],objectives:["Understand what options are and how they work","Distinguish between calls and puts","Learn key options terminology","Understand expiration and exercise"],content:[{type:"text",title:"What are Options?",content:"Options are financial contracts that give you the right, but not the obligation, to buy or sell an underlying asset at a specific price within a certain time period. Think of them as insurance policies for stocks - you pay a premium for the right to buy or sell at a predetermined price."},{type:"text",title:"Call Options",content:"A call option gives you the right to BUY a stock at a specific price (strike price) before expiration. You would buy a call if you think the stock price will go UP. If the stock price rises above your strike price, you can profit from the difference."},{type:"text",title:"Put Options",content:"A put option gives you the right to SELL a stock at a specific price before expiration. You would buy a put if you think the stock price will go DOWN. If the stock price falls below your strike price, you can profit from the difference."},{type:"example",title:"Call Option Example",content:"AAPL is trading at $180. You buy a $185 call expiring in 30 days for $3. If AAPL rises to $190, your option is worth $5 ($190 - $185), giving you a $2 profit per share ($5 - $3 premium paid)."}],quiz:{id:"options_basics_quiz",questions:[{id:"q1",question:"What does a call option give you the right to do?",type:"multiple-choice",options:["Buy a stock","Sell a stock","Both buy and sell","Neither"],correctAnswer:"Buy a stock",explanation:"A call option gives you the right to BUY a stock at the strike price."},{id:"q2",question:"If you think a stock price will decrease, which option would you buy?",type:"multiple-choice",options:["Call option","Put option","Both","Neither"],correctAnswer:"Put option",explanation:"Put options increase in value when the stock price decreases."},{id:"q3",question:"True or False: You are obligated to exercise an option before expiration.",type:"true-false",correctAnswer:"False",explanation:"Options give you the RIGHT, not the obligation, to buy or sell. You can let them expire worthless."}],passingScore:80},practicalExercise:{id:"basic_option_analysis",title:"Analyze Basic Options",description:"Practice identifying profitable options scenarios",scenario:"AAPL is currently trading at $180. Analyze the following options and determine which would be profitable if AAPL moves to $190.",requirements:[{type:"analyze-greeks",description:"Identify which option would be profitable",criteria:{targetPrice:190,currentPrice:180}}],hints:["Consider the strike price relative to the target price","Remember that calls profit from upward moves","Factor in the premium paid"],solution:"The $185 call would be profitable as it would be worth $5 ($190 - $185) at expiration, minus the premium paid."},completed:!1,progress:0},{id:"options_greeks",title:"Understanding the Greeks",description:"Master Delta, Gamma, Theta, and Vega to understand how options prices change",difficulty:"intermediate",estimatedTime:60,prerequisites:["options_basics"],objectives:["Understand what each Greek measures","Learn how Greeks affect option prices","Use Greeks for risk management","Apply Greeks in strategy selection"],content:[{type:"text",title:"Delta: Price Sensitivity",content:"Delta measures how much an option's price changes for every $1 move in the underlying stock. Call options have positive delta (0 to 1), put options have negative delta (0 to -1). A delta of 0.5 means the option price moves $0.50 for every $1 stock move."},{type:"text",title:"Gamma: Delta's Rate of Change",content:"Gamma measures how much delta changes as the stock price moves. High gamma means delta changes rapidly, making the option more sensitive to price movements. At-the-money options have the highest gamma."},{type:"text",title:"Theta: Time Decay",content:"Theta measures how much an option loses value each day due to time passing. All options lose value as expiration approaches (time decay). Theta is always negative for long options and accelerates as expiration nears."},{type:"text",title:"Vega: Volatility Sensitivity",content:"Vega measures how much an option's price changes for every 1% change in implied volatility. Higher volatility increases option prices. Long options have positive vega (benefit from volatility increases)."},{type:"interactive",title:"Greeks Calculator",content:"Use the options chain to see how Greeks change with different strikes and expirations.",data:{type:"greeks_calculator"}}],quiz:{id:"greeks_quiz",questions:[{id:"q1",question:"An option has a delta of 0.6. If the stock moves up $2, how much should the option price increase?",type:"numerical",correctAnswer:1.2,explanation:"Delta of 0.6 √ó $2 stock move = $1.20 option price increase"},{id:"q2",question:"Which Greek measures time decay?",type:"multiple-choice",options:["Delta","Gamma","Theta","Vega"],correctAnswer:"Theta",explanation:"Theta measures how much value an option loses each day due to time passing."},{id:"q3",question:"True or False: Vega is higher for options with more time to expiration.",type:"true-false",correctAnswer:"True",explanation:"Longer-dated options are more sensitive to volatility changes, so they have higher vega."}],passingScore:80},completed:!1,progress:0},{id:"basic_strategies",title:"Basic Options Strategies",description:"Learn fundamental strategies: long calls, long puts, covered calls, and protective puts",difficulty:"intermediate",estimatedTime:75,prerequisites:["options_basics","options_greeks"],objectives:["Master the four basic options strategies","Understand when to use each strategy","Calculate profit/loss scenarios","Manage risk effectively"],content:[{type:"text",title:"Long Call Strategy",content:"Buying a call option is the most basic bullish strategy. You profit if the stock price rises above the strike price plus the premium paid. Maximum risk is limited to the premium paid, while profit potential is unlimited."},{type:"text",title:"Long Put Strategy",content:"Buying a put option is the basic bearish strategy. You profit if the stock price falls below the strike price minus the premium paid. Maximum risk is the premium paid, maximum profit is the strike price minus premium."},{type:"text",title:"Covered Call Strategy",content:"Own 100 shares of stock and sell a call option against it. This generates income from the premium but caps your upside if the stock rises above the strike price. Best used in neutral to mildly bullish markets."},{type:"text",title:"Protective Put Strategy",content:"Own stock and buy a put option as insurance. This limits your downside risk while maintaining upside potential. The put acts like an insurance policy for your stock position."}],practicalExercise:{id:"strategy_selection",title:"Choose the Right Strategy",description:"Given different market scenarios, select the most appropriate basic strategy",scenario:"You own 100 shares of TSLA at $250. You're moderately bullish but want to generate income. Which strategy should you use?",requirements:[{type:"identify-strategy",description:"Select the best strategy for this scenario",criteria:{scenario:"income_generation",position:"long_stock"}}],hints:["You already own the stock","You want to generate income","You're only moderately bullish"],solution:"Covered Call - sell a call option against your stock position to generate premium income while maintaining most upside potential."},completed:!1,progress:0},{id:"advanced_strategies",title:"Advanced Options Strategies",description:"Learn complex strategies: spreads, straddles, strangles, and iron condors",difficulty:"advanced",estimatedTime:90,prerequisites:["basic_strategies"],objectives:["Understand multi-leg strategies","Learn spread strategies","Master volatility strategies","Apply advanced risk management"],content:[{type:"text",title:"Bull Call Spread",content:"Buy a lower strike call and sell a higher strike call with the same expiration. This reduces the cost compared to buying a call alone but also limits profit potential. Best for moderate bullish moves."},{type:"text",title:"Iron Condor",content:"Sell a call spread and a put spread simultaneously. Profits when the stock stays within a range. High probability strategy but limited profit potential. Best in low volatility environments."},{type:"text",title:"Long Straddle",content:"Buy a call and put with the same strike and expiration. Profits from large moves in either direction. Best before earnings or events that could cause big price swings."}],completed:!1,progress:0},{id:"risk_management",title:"Options Risk Management",description:"Learn to manage risk, position sizing, and when to exit trades",difficulty:"intermediate",estimatedTime:50,prerequisites:["basic_strategies"],objectives:["Understand position sizing","Learn exit strategies","Master risk/reward ratios","Develop trading rules"],content:[{type:"text",title:"Position Sizing",content:"Never risk more than 2-5% of your account on a single options trade. Options can expire worthless, so proper position sizing is crucial for long-term success."},{type:"text",title:"Exit Strategies",content:"Have a plan before entering any trade. Set profit targets (often 25-50% of maximum profit) and stop losses (often 2x the credit received or 50% of debit paid)."}],completed:!1,progress:0},{id:"market_analysis",title:"Market Analysis for Options",description:"Learn to analyze market conditions and choose appropriate strategies",difficulty:"advanced",estimatedTime:80,prerequisites:["advanced_strategies","risk_management"],objectives:["Analyze market regimes","Understand volatility cycles","Match strategies to market conditions","Use technical analysis for options"],content:[{type:"text",title:"Market Regimes",content:"Different market conditions favor different options strategies. Bull markets favor call strategies, bear markets favor put strategies, and sideways markets favor income strategies."},{type:"text",title:"Volatility Analysis",content:"Implied volatility is crucial for options pricing. Buy options when IV is low and sell options when IV is high. Use the VIX and historical volatility to gauge market fear and opportunity."}],completed:!1,progress:0}]}static getDefaultProgress(){return{userId:"default",completedModules:[],currentModule:"options_basics",totalTimeSpent:0,quizScores:{},practicalExercisesCompleted:[],journalEntries:0,achievements:[],level:1,experience:0}}static initializeDefaultData(){localStorage.getItem(this.STORAGE_KEY)||localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.getDefaultModules())),localStorage.getItem(this.PROGRESS_KEY)||localStorage.setItem(this.PROGRESS_KEY,JSON.stringify(this.getDefaultProgress()))}static resetLearningData(){localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.JOURNAL_KEY),localStorage.removeItem(this.PROGRESS_KEY),this.initializeDefaultData()}static exportLearningData(){return JSON.stringify({modules:this.getLearningModules(),progress:this.getLearningProgress(),journal:this.getJournalEntries(),exportDate:new Date().toISOString()},null,2)}static getLearningStats(){const e=this.getLearningModules(),t=this.getLearningProgress(),i=Object.values(t.quizScores),o=i.length>0?i.reduce((a,l)=>a+l,0)/i.length:0;return{totalModules:e.length,completedModules:t.completedModules.length,completionRate:t.completedModules.length/e.length*100,totalTimeSpent:t.totalTimeSpent,averageQuizScore:o,journalEntries:t.journalEntries,achievements:t.achievements.length,currentLevel:t.level}}}r(n,"STORAGE_KEY","options_learning_data"),r(n,"JOURNAL_KEY","trading_journal"),r(n,"PROGRESS_KEY","learning_progress");export{n as L};
